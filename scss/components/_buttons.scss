/*
 * Button shape
 */
.button-henlo {
	// design want 34px height
	padding: em(5) em(16) em(6);

	// usage of box-shadow instead of border to enable increasing size of _visual_ border without shifting button size
	box-shadow: inset 0 0 0 var(--button-default-box-shadow-width, 0)
		var(--button-default-border-color, transparent);

	border: none;
	border-radius: $global-border-radius;
	outline: none; // be careful of a11y
	background-color: var(--button-default-background-color, transparent);
	color: var(--button-default-text-color, inherit);
	transition: 0.15s easing(easeOutQuint), background-position 0s;

	&,
	&:hover,
	&:focus,
	&:focus-within,
	&:active {
		text-decoration: none;
	}

	&:hover,
	&:focus,
	&:focus-within,
	&.is-hover {
		border-color: var(--button-hover-border-color, transparent);
		box-shadow: inset 0 0 0 var(--button-hover-box-shadow-width, 0)
			var(--button-hover-border-color, transparent);
		background-color: var(--button-hover-background-color, transparent);
		color: var(--button-hover-text-color, inherit);
	}

	&:not(div):active,
	// not(div) prevents active state in case of button groups with dropdowns
	&.is-active {
		border-color: var(--button-active-border-color, transparent);
		box-shadow: inset 0 0 0 var(--button-active-box-shadow-width, 0)
			var(--button-active-border-color, transparent);
		background-color: var(--button-active-background-color, transparent);
		color: var(--button-active-text-color, inherit);
	}

	&[disabled],
	&.is-disabled {
		pointer-events: none;

		&:not([aria-busy='true']) {
			opacity: 0.5;
		}
	}

	&[aria-expanded='true'] .caret-like {
		@extend .rotateX-180;
	}
}

/*
 * Button variants
 */
@each $color in (norm, weak, danger, warning, success, info) {
	// Initialize namespace
	$group: 'signal-';
	@if $color == 'norm' or $color == 'weak' {
		$group: 'interaction-';
	}

	// Default shape
	.button-solid-#{$color} {
		--button-default-background-color: var(--#{$group + $color});
		--button-default-text-color: var(--#{$group + $color}-contrast);

		@each $state in (hover, active) {
			--button-#{$state}-background-color: var(
				--#{$group + $color}-#{$state}
			);
			--button-#{$state}-text-color: var(--#{$group + $color}-contrast);
		}
	}

	// Outline shape
	.button-outline-#{$color} {
		--button-default-box-shadow-width: 1px;
		--button-default-border-color: var(--#{$group + $color});

		@if $color == 'weak' {
			--button-default-text-color: var(--text-norm);
		} @else {
			--button-default-text-color: var(--#{$group + $color});
		}

		@each $state in (hover, active) {
			--button-#{$state}-box-shadow-width: 2px;
			--button-#{$state}-border-color: var(
				--#{$group + $color}-#{$state}
			);

			@if $color == 'weak' {
				--button-#{$state}-text-color: var(--text-norm);
			} @else {
				--button-#{$state}-text-color: var(
					--#{$group + $color}-#{$state}
				);
			}
		}
	}

	// Ghost shape
	.button-ghost-#{$color} {
		--button-default-background-color: var(--interaction-ghost);

		@if $color == 'weak' {
			--button-default-text-color: var(--text-norm);
		} @else {
			--button-default-text-color: var(--#{$group + $color});
		}

		@each $state in (hover, active) {
			--button-#{$state}-background-color: var(
				--interaction-ghost-#{$state}
			);

			@if $color == 'weak' {
				--button-#{$state}-text-color: var(--text-norm);
			} @else {
				--button-#{$state}-text-color: var(
					--#{$group + $color}-#{$state}
				);
			}
		}
	}
}

/*
 * Modifiers
 */

.button-small {
	padding: em(1) em(12) em(2); // design want 26px height
}

.button-large {
	padding: em(10) em(20) em(9); // design want 42px height
}

.button-for-icon {
	padding: em(8);

	&.button-small {
		padding: em(4);
	}

	&.button-large {
		padding: em(12);
	}

	svg {
		display: block;
	}
}

.button-pill {
	border-radius: 2em;
}

.button-link {
	padding: em(5) 0 em(6);
	color: var(--interaction-norm);
	text-decoration: underline;

	&:focus,
	&:hover {
		color: var(--interaction-norm-hover);
	}
	&:not(div):active,
	&:active {
		color: var(--interaction-norm-active);
	}

	&[disabled],
	&.is-disabled {
		color: var(--interaction-norm-disabled);
		pointer-events: none;
	}
}

/*
 * For select component
 */
.button-henlo.select {
	background-color: transparent;
	color: var(--text-norm);
	// height: $default-height-fields;

	.mauto {
		display: flex;
		width: 100%;
	}

	.mr0-5 {
		flex: 1 1 0px;
		@extend .text-ellipsis;
	}
}
