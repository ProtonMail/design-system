/*
 * wizard
 */

$height-wizard: 6px !default;
$size-current-pin: 16px !default;

.wizard-container {
  position: relative;
  padding-top: 1em;
  padding-left: 5px;
}

.wizard {
  height: $height-wizard;
  display: flex;
}

.wizard-marker {
  display: flex;
  width: $height-wizard;
  height: $height-wizard;
  border-radius: 50%;
  background: $pm-blue;
}

.wizard-item {
  
  background: $pm-global-border;
  
  // positionned first element always with a aria-current/is-complete design
  &:first-child {
    background: none;
    background-image: linear-gradient(to left, $pm-global-border 0,  $pm-global-border calc(100% - #{$height-wizard/2}), transparent calc(100% - #{$height-wizard/2}) );
  }
  &:last-child {
    background: none;
    background-image: linear-gradient(to right, $pm-global-border 0,  $pm-global-border #{$height-wizard/2}, transparent #{$height-wizard/2});
  }
  
  &[aria-current="step"],
  &.is-complete {
    &::before {
      content: '';
      position: relative;
      display: block;
      border-radius: 50%;
      z-index: 1;
      top: -5px;
      left: -5px;
      width: $size-current-pin;
      height: $size-current-pin;
    }

    .wizard-marker {
      display: none;
    }
  }
  &[aria-current="step"]::before {
    background-image: radial-gradient(circle, $white 0, $white #{$height-wizard/2}, $pm-blue #{$height-wizard/2});
  }
  &.is-complete::before {
    background: $pm-blue url("#{$path-images}sprite-for-css-only.svg#css-on") 50% 50% no-repeat;
    background-size: #{$size-current-pin - $height-wizard};
  }
  &.is-complete::after {
    content: '';
    position: relative;
    display: block;
    width: 100%;
    height: 6px;
    top: -$size-current-pin;
    background-color: $pm-blue;
  }
  &[aria-current="step"] .wizard-item-inner {
    position: absolute;
    top: 0;
    left: 0;
    font-size: 2rem;
    font-weight: bold;
  }
  &:not([aria-current]) .wizard-item-inner {
    @extend .invisible;
  }
}
