/*
 * Conversations
 */

.conversations-column-list {
  width: calc( (100% + var(--width-sidebar, #{$width-sidebar}) ) * #{$conversations-column-width/1%/100} );
  border-right: 1px solid $pm-global-border;
}

.conversations-column-list,
.conversation-column-detail {
  height: calc(100vh - #{$header-height} - #{$toolbar-height} );
}

.conversation-container,
.conversation-container-row {
  padding: em(16) em(12);
  border-bottom: 1px solid $pm-global-border;
}
.conversation-container-row {
  padding: em(8) em(12);
}

.conversation-is-selected {
  background: $conversation-selected-bg;
}

$conversation-icon-size: 4rem !default;
.conversation-icon {
  width: $conversation-icon-size;
  height: $conversation-icon-size;
  font-size: 1.2rem;
  border: 1px solid $pm-global-border;
  margin-right: 20px;
}

.conversation-checkbox {
  & + .conversation-icon > .conversation-icon-fakecheck {
    display: none;
  }

  &:checked + .conversation-icon {
    background-color: $pm-blue;
    & > .conversation-abbr {
      display: none;
    }
    & > .conversation-icon-fakecheck {
      display: flex;
      
      animation: conversationIconIn ease .15s;
    }

  }
}
@keyframes conversationIconIn {
  0% {
    transform: scale(0);
  }
  100% {
    transform: scale(1);
  }
}


.conversation-titlesender {
  line-height: 1.3;
}

.starbutton {
  fill: $pm-global-grey;
  width: 1.6rem;
  height: 1.6rem;
  &:hover {
    fill: $pm-global-attention;
  }
  [class*="starbutton-icon"] {
    position: absolute;
    top: 0;
    left: 0;
  }
  .starbutton-icon-starred {
    transform: scale(0);
    transition: transform .15s ease;
  }
}
.starbutton--is-starred {
  fill: $pm-global-attention;
  .starbutton-icon-starred {
    transform: scale(1);
  }
}

/*
 * Conversations messages
 */
.message-container {
  border: 1px solid $pm-global-border;
  border-radius: $global-border-radius;
}
.message-header {
  background-color: $pm-global-light;
  @extend .p1;
  @extend .relative;

  &.is-inbound::before {
    content: '';
    display: inline-block;
    position: absolute;
    top: -1px;
    left: -1px;
    width: 23px;
    height: 17px;
    transform: skewX(50deg) translateX(-10px);

    border-top: 1px solid $pm-global-border;
    border-left: 1px solid $pm-global-border;
    background-color: $pm-global-light;
  }

  &.is-outbound::before {
    content: '';
    display: inline-block;
    position: absolute;
    top: -1px;
    right: -1px;
    width: 23px;
    height: 17px;
    transform: skewX(-50deg) translateX(10px);

    border-top: 1px solid $pm-global-border;
    border-right: 1px solid $pm-global-border;
    background-color: $pm-global-light;
  }

}

/* states classes */
.message-container.is-opened {

  > .message-header {
      border-bottom: 1px solid $pm-global-border;
  }

}


.message-content {
  @extend .p1;
}

.message-expand {
  padding: 0 .5em .6em; // centers 
  background-color: $pm-global-light;
  line-height: .75;
}

.message-attachments {
  @extend .p1;
  border-top: 1px solid $pm-global-border;
  font-size: 1.4rem;
}

.message-attachment {
  line-height: 1.3;
  padding: 0;
  &:hover,
  &:focus,
  &:active {
    text-decoration: none;
  } 
}
.message-attachmentIcon {
  width: 2.6em;
}
.message-attachmentInfo {
  border-left: 1px solid $pm-global-border;
  padding: .3em .7em;
}
.message-attachmentSize {
  font-size: 1.2rem;
  opacity: .5;
}

.container-to {
  min-width: 3em;
}